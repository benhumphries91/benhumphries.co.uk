function showForm(e,r){var o=1;e=$(e),void 0===r&&(r="100%"),$(".lightbox").length&&(o=parseInt($(".lightbox").last().attr("id").substr(4),10)+1),$(".bg-overlay.active").removeClass("active"),$(".bg-overlay.lb").length&&$(".bg-overlay.lb").remove(),$("body").append('<div class="bg-overlay lb active" data-id="lbid'+o+'""></div>'),$(".lightbox").length?($(".lightbox").children(".hidden-form").unwrap(),e.wrap('<div class="lightbox" id="lbid'+o+'" />'),$("#lbid"+o).width(r)):(e.wrap('<div class="lightbox" id="lbid'+o+'" />'),$("#lbid"+o).width(r))}function hideForm(e){formWrapper=e.hasClass("close")?e.parents(".lightbox").attr("id"):e.data("id"),$("#"+formWrapper).length>0?($("#"+formWrapper).addClass("remove"),$(".remove").on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){resetForm(formWrapper),setTimeout(function(){$("#"+formWrapper).children().unwrap(),$("body").find('[data-id="'+formWrapper+'"]').remove()},200)})):$("body").find('[data-id="'+formWrapper+'"]').remove()}function resetForm(e){e=$("#"+e),title=e.find(".title-top").data("title"),e.find(".input-error").removeClass("input-error"),e.find(".error-detail").remove(),e.find(".form-area").show(),e.find(".title-top").text(title),e.find(".success").empty().hide(),e.find(".form-area form :input").val("")}function formError(e,r,o){o||(o=!1),e=$(e),e.addClass("validation-error"),"db"==o?e.prepend('<span class="error-detail">'+r+"</span>"):e.parent().append('<span class="error-detail">'+r+"</span>")}function submitForm(e,r){$(e).find(".input-error").removeClass("input-error"),$(e).find(".error-detail").remove();var o,a=($(e).parents(".lightbox").attr("id"),0),n={};for(var t in r)"email"==t&&(o="Please Enter an E-mail Address"),"fullname"==t&&(o="Please Enter Your First Name"),"phone"==t&&(o="Please Enter a Contact Number"),"message"==t&&(o="Please Enter a Message"),0===$(r[t]).val().length&&(formError(r[t],o),a++),n[t]={value:$(r[t]).val(),selector:r[t]};return a>0?!1:void $.ajax({url:"/lib/ajax/contact.php",cache:!1,type:"POST",data:n,success:function(e){if(e=JSON.parse(e),null!=e.console&&console.log(e.console),null!=e.error){for(var r=0;r<e.error.length;r++)formError(e.error[r].selector,e.error[r].message);return!1}if(null!=e.success){var o='<div class="circle-wrapper"><div class="success-icon"><img src="http://www.benhumphries.co.uk/lib/img/icons/success.svg" alt="Success Tick"></div></div><h2>'+e.success.title+"</h2><p>"+e.success.message+"</p>";$(".form-area").hide(),$(".success").show().append(o)}},error:function(e){console.log(e.responseText)}})}var formWrapper,error=0;$(document).ready(function(){$(document).on("blur","input, textarea",function(){0!==$(this).val().length&&$(this).siblings("label").css("opacity","0")}),$(document).on("focus","input, textarea",function(){0!==$(this).val().length&&$(this).siblings("label").css("opacity","1")}),$("body").on("keyup",".validation-error",function(){$(this).siblings(".error-detail").remove(),$(this).removeClass("validation-error")}),$(window).width()>992&&($(window).scroll(function(){$(this).scrollTop()>$("header").outerHeight()+30?($("#top-nav").hide(),$("#nav-icon").removeClass("hide-on-large-only"),$("nav").addClass("z-depth-2")):($("#top-nav").show(),$("#nav-icon").addClass("hide-on-large-only"),$("nav").removeClass("z-depth-2"))}),$(this).scrollTop()<$("header").outerHeight()+30&&($("#top-nav").show(),$("#nav-icon").addClass("hide-on-large-only"),$("nav").removeClass("z-depth-2"))),$("#nav-icon").on("click",function(){$(".menu-drawer").hasClass("active")?($(".navbar-fixed").find(".active").removeClass("active"),$(".bg-overlay").remove()):($(".menu-drawer").addClass("active"),$(this).addClass("active"),$("body").append('<div class="bg-overlay"></div>'))}),$("body").on("click",".lightbox .close, .bg-overlay.lb",function(){hideForm($(this))}),$('a[href*="#"]:not([href="#"])').on("click",function(e){e.preventDefault();var r=$(this).attr("href");$("html, body").animate({scrollTop:$(r).offset().top},800),$(this).parents(".menu-drawer")&&($(".navbar-fixed").find(".active").removeClass("active"),$(".bg-overlay").remove())})});
