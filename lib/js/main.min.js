function showForm(r,e){var o=1;r=$(r),void 0===e&&(e=650),$(".lightbox").length&&(o=parseInt($(".lightbox").last().attr("id").substr(4),10)+1),$(".bg-overlay.active").removeClass("active"),$(".bg-overlay.lb").length&&$(".bg-overlay.lb").remove(),$("body").append('<div class="bg-overlay lb active" data-id="lbid'+o+'""></div>'),$(".lightbox").length?($(".lightbox").children(".hidden-form").unwrap(),r.wrap('<div class="lightbox" id="lbid'+o+'" />'),$("#lbid"+o).width(e)):(r.wrap('<div class="lightbox" id="lbid'+o+'" />'),$("#lbid"+o).width(e))}function hideForm(r){formWrapper=r.hasClass("close")?r.parents(".lightbox").attr("id"):r.data("id"),$("#"+formWrapper).length>0?($("#"+formWrapper).addClass("remove"),$(".remove").on("transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",function(){resetForm(formWrapper),setTimeout(function(){$("#"+formWrapper).children().unwrap(),$("body").find('[data-id="'+formWrapper+'"]').remove()},400)})):$("body").find('[data-id="'+formWrapper+'"]').remove()}function resetForm(r){r=$("#"+r),title=r.find(".title-top").data("title"),r.find(".input-error").removeClass("input-error"),r.find(".error-detail").remove(),r.find(".form-area").show(),r.find(".title-top").text(title),r.find(".success").empty().hide(),r.find(".form-area form :input").val("")}function formError(r,e,o){o||(o=!1),r=$(r),r.addClass("validation-error"),"db"==o?r.prepend('<span class="error-detail">'+e+"</span>"):r.parent().append('<span class="error-detail">'+e+"</span>")}function submitForm(r,e){$(r).find(".input-error").removeClass("input-error"),$(r).find(".error-detail").remove();var o,a=($(r).parents(".lightbox").attr("id"),0),n={};for(var t in e)"email"==t&&(o="Please Enter an E-mail Address"),"fullname"==t&&(o="Please Enter Your First Name"),"phone"==t&&(o="Please Enter a Contact Number"),"message"==t&&(o="Please Input a Message"),0===$(e[t]).val().length&&(form_error(e[t],o),a++),n[t]={value:$(e[t]).val(),selector:e[t]};return a>0?!1:void $.ajax({url:"/benhumphries.co.uk/lib/ajax/contact.php",cache:!1,type:"POST",data:n,success:function(r){if(r=JSON.parse(r),console.log(r),null!=r.console&&console.log(r.console),null!=r.error){for(var e=0;e<r.error.length;e++)formError(r.error[e].selector,r.error[e].message);return!1}console.log(r.success),null!=r.success&&(console.log("success"),$(".form-area").hide(),$(".success").show().append("<h2>"+r.success.title+"</h2><p>"+r.success.message+"</p>"))},error:function(r){console.log(r.responseText)}})}var formWrapper,error=0;$(document).ready(function(){$(document).on("blur","input",function(){0!==$(this).val().length&&$(this).siblings("label").css("opacity","0")}),$(document).on("focus","input",function(){0!==$(this).val().length&&$(this).siblings("label").css("opacity","1")}),$(window).width()>992&&$(window).scroll(function(){$(this).scrollTop()>=$("header").outerHeight()+30?($("#top-nav").hide(),$("#nav-icon").removeClass("hide-on-large-only"),$("nav").addClass("z-depth-2")):($("#top-nav").show(),$("#nav-icon").addClass("hide-on-large-only"),$("nav").removeClass("z-depth-2"))})});
